<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>开源趋势与影响力分析平台 - 项目影响力分析</title>
    <!-- 引入CDN依赖 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="../style.css">
    <!-- 引入图标（可选，提升视觉） -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
    <!-- 顶部导航栏 -->
    <header class="navbar">
        <div class="navbar-logo">
            <i class="bi bi-bar-chart-line"></i>
            <span>开源趋势与影响力分析平台</span>
        </div>
        <div class="navbar-menu">
            <a href="../index.html">首页</a>
            <a href="./index.html">影响力分析</a>
            <a href="../trend-analysis/index.html">技术趋势分析</a>
            <a href="../projects/list.html">项目详情页</a>
            <a href="../languages/list.html">编程语言</a>
            <a href="../technology/list.html">技术关键词</a>
        </div>
        <div class="navbar-user">
            <span class="date" id="current-date"></span>
        </div>
    </header>

    <!-- 主体容器：侧边栏 + 主内容 -->
    <div class="main-container">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-menu">
                <a href="#overview" class="sidebar-item active">
                    <i class="bi bi-speedometer2"></i>
                    <span>平台概览</span>
                </a>
                <a href="#ranking" class="sidebar-item">
                    <i class="bi bi-trophy"></i>
                    <span>影响力排名</span>
                </a>
                <a href="#ranking-table" class="sidebar-item">
                    <i class="bi bi-graph-up"></i>
                    <span>项目排名</span>
                </a>
            </div>
            
            <!-- 数据更新提示 -->
            <div class="sidebar-footer">
                <p><i class="bi bi-clock"></i> 数据更新时间</p>
                <p class="update-time">2026-01-10</p>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="content">
            <!-- 面包屑导航 -->
            <div class="breadcrumb">
                <a href="#">首页</a> / <span id="current-page">平台概览</span>
            </div>

            <!-- 平台概览模块 -->
            <section id="overview" class="module">
                <div class="module-header">
                    <h2><i class="bi bi-speedometer2"></i> 平台数据概览</h2>
                    <p>基于GitHub Top300开源项目的核心数据统计</p>
                </div>

                <!-- 指标卡片行 -->
                <div class="metric-row">
                    <div class="metric-card">
                        <div class="card-icon bg-primary">
                            <i class="bi bi-grid-1x2-fill"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-title">总项目数</div>
                            <div class="card-value" id="total-projects">--</div>
                            <div class="card-desc">覆盖Top300开源项目</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="card-icon bg-success">
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-title">总Star数</div>
                            <div class="card-value" id="total-stars">--</div>
                            <div class="card-desc">项目总关注度</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="card-icon bg-warning">
                            <i class="bi bi-bar-chart-fill"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-title">平均影响力分数</div>
                            <div class="card-value" id="avg-influence">--</div>
                            <div class="card-desc">综合评分（0-10）</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="card-icon bg-info">
                            <i class="bi bi-code-slash"></i>
                        </div>
                        <div class="card-content">
                            <div class="card-title">主流编程语言数</div>
                            <div class="card-value" id="language-count">--</div>
                            <div class="card-desc">覆盖核心开发语言</div>
                        </div>
                    </div>
                </div>

                <!-- 图表行：语言分布 -->
                <div class="chart-row">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>项目编程语言分布</h3>
                            <span class="chart-desc">Top300项目语言占比</span>
                        </div>
                        <div class="chart-container" id="language-chart"></div>
                    </div>
                </div>
            </section>

            <!-- 影响力排名模块 -->
            <section id="ranking" class="module">
                <div class="module-header">
                    <h2><i class="bi bi-trophy"></i> 项目影响力排名</h2>
                    <p>按综合影响力分数排序（可按语言筛选）</p>
                </div>

                <!-- 筛选工具栏 -->
                <div class="tool-bar">
                    <div class="filter-group">
                        <label for="language-filter"><i class="bi bi-filter"></i> 按语言筛选：</label>
                        <select id="language-filter">
                            <option value="all">所有语言</option>
                        </select>
                        <button id="refresh-btn" class="btn-primary"><i class="bi bi-arrow-clockwise"></i> 刷新排名</button>
                    </div>
                    <div class="search-group">
                        <input type="text" id="repo-search" placeholder="搜索项目名称...">
                        <button class="btn-secondary"><i class="bi bi-search"></i> 搜索</button>
                    </div>
                </div>

                <!-- 图表行：Top10排名 -->
                <div class="chart-row">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>影响力Top10项目</h3>
                            <span class="chart-desc">分数越高，项目综合影响力越强</span>
                        </div>
                        <div class="chart-container" id="ranking-chart"></div>
                    </div>
                </div>

                <!-- 表格行：完整排名 -->
                <div class="table-row">
                    <div class="table-card">
                        <div class="table-header">
                            <h3>完整排名列表（Top300）</h3>
                            <div class="table-actions">
                                <button class="btn-secondary" id="toggle-btn"><i class="bi bi-chevron-down"></i> 展开全部</button>
                                <button class="btn-secondary"><i class="bi bi-download"></i> 导出数据</button>
                            </div>
                        </div>
                        <div class="table-container">
                            <table id="ranking-table">
                                <thead>
                                    <tr>
                                        <th width="80">排名</th>
                                        <th width="300">项目名称</th>
                                        <th width="120">编程语言</th>
                                        <th width="150">影响力分数</th>
                                        <th width="120">Star评分</th>
                                        <th width="120">活跃度评分</th>
                                        <th width="100">排名变化</th>
                                    </tr>
                                </thead>
                                <tbody id="table-body"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-left">
                <p>© 2026 开源趋势与影响力分析平台</p>
            </div>
            <div class="footer-right">
                <a href="#"><i class="bi bi-github"></i> GitHub</a>
                <a href="#"><i class="bi bi-file-text"></i> 数据说明</a>
                <a href="#"><i class="bi bi-question-circle"></i> 帮助中心</a>
            </div>
        </div>
    </footer>

    <!-- 引入主逻辑脚本 -->
    <script src="main.js"></script>

    <!-- SQLBot -->
    <script
    async
    defer
    id="sqlbot-assistant-float-script-7414668341379338240"
    src="http://127.0.0.1:8001/assistant.js?id=7414668341379338240"></script>
</body>
</html>