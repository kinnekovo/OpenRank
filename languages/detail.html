<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>编程语言详情 - 开源趋势与影响力分析平台</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <script src="https://cdn.bootcdn.net/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <style>
        /* 手绘布局专属样式补充 */
        .detail-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid #eee;
        }
        .language-title {
            font-size: 24px;
            font-weight: 700;
            color: #165DFF;
            margin-right: 16px;
        }
        .trend-tag {
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 500;
        }
        .trend-tag.up {
            background: #e8f5e8;
            color: #00B42A;
        }
        .trend-tag.down {
            background: #ffebe9;
            color: #F53F3F;
        }
        .trend-tag.stable {
            background: #fff7e6;
            color: #FF7D00;
        }
        /* 基础信息+雷达图 左右布局 */
        .basic-radar-wrapper {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }
        /* 基础信息方块布局（2行5列） */
        .basic-info-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 16px;
        }
        .basic-info-card {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100px;
        }
        .basic-info-card .label {
            font-size: 16px;
            color: #666;
            margin-bottom: 12px;
            font-weight: 500;
        }
        .basic-info-card .value {
            font-size: 24px;
            font-weight: 700;
            color: #165DFF;
        }
        /* 分析层标签切换 */
        .analysis-tabs {
            display: flex;
            border-bottom: 1px solid #eee;
            margin-bottom: 16px;
        }
        .analysis-tab {
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        .analysis-tab.active {
            border-bottom-color: #165DFF;
            color: #165DFF;
            font-weight: 600;
        }
        /* 分析层内容区 */
        .analysis-content {
            display: none;
        }
        .analysis-content.active {
            display: block;
        }
        /* 图表网格布局 */
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
        }
        .chart-item {
            background: #fff;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .chart-item h4 {
            margin: 0 0 16px 0;
            font-size: 16px;
            color: #333;
        }
        .chart-container {
            width: 100%;
            height: 300px;
        }
        /* 面包屑和返回按钮样式（复用原有） */
        .breadcrumb {
            font-size: 14px;
            color: #666;
            margin-bottom: 16px;
        }
        .breadcrumb a {
            color: #165DFF;
            text-decoration: none;
        }
        .btn-secondary {
            padding: 8px 16px;
            background: #f5f7fa;
            border: 1px solid #e5e6eb;
            border-radius: 4px;
            color: #333;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .btn-secondary:hover {
            background: #e8f4ff;
            border-color: #165DFF;
            color: #165DFF;
        }
        /* Top10项目表格样式 */
        #top-projects-table {
            border-collapse: collapse;
            width: 100%;
            table-layout: fixed;
        }
        #top-projects-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
            padding: 12px 8px;
            text-align: center;
            border-bottom: 2px solid #dee2e6;
        }
        #top-projects-table td {
            padding: 12px 8px;
            border-bottom: 1px solid #dee2e6;
            vertical-align: middle;
            word-wrap: break-word;
        }
        #top-projects-table tbody tr:hover {
            background: #f8f9fa;
        }
        #top-projects-table .rank-1,
        #top-projects-table .rank-2,
        #top-projects-table .rank-3 {
            color: #F53F3F;
            font-weight: bold;
        }
        #top-projects-table .project-link {
            color: #165DFF;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
        }
        #top-projects-table th:nth-child(1),
        #top-projects-table td:nth-child(1) {
            width: 8%;
        }
        #top-projects-table th:nth-child(2),
        #top-projects-table td:nth-child(2) {
            width: 40%;
        }
        #top-projects-table th:nth-child(3),
        #top-projects-table td:nth-child(3) {
            width: 15%;
        }
        #top-projects-table th:nth-child(4),
        #top-projects-table td:nth-child(4) {
            width: 15%;
        }
        #top-projects-table th:nth-child(5),
        #top-projects-table td:nth-child(5) {
            width: 12%;
        }
        #top-projects-table th:nth-child(6),
        #top-projects-table td:nth-child(6) {
            width: 10%;
        }
    </style>
</head>
<body>
    <!-- 顶部导航（保留原有） -->
    <nav class="navbar">
        <div class="navbar-logo">
            <i class="bi bi-bar-chart-line"></i>
            <span>开源趋势与影响力分析平台</span>
        </div>
        <div class="navbar-menu">
            <a href="../index.html">首页</a>
            <a href="../influence-analysis/index.html">影响力排名</a>
            <a href="../trend-analysis/index.html">技术趋势分析</a>
            <a href="../projects/list.html">项目详情页</a>
            <a href="./list.html">编程语言</a>
            <a href="../technology/list.html">技术关键词</a>
        </div>
        <div class="navbar-user">
            <span>登录用户</span>
        </div>
    </nav>

    <div class="main-container">
        <!-- 侧边栏（页面内导航） -->
        <aside class="sidebar">
            <div class="sidebar-menu">
                <a href="#language-info" class="sidebar-item active">
                    <i class="bi bi-info-circle"></i>
                    <span>语言信息</span>
                </a>
                <a href="#language-trends" class="sidebar-item">
                    <i class="bi bi-graph-up"></i>
                    <span>趋势分析</span>
                </a>
                <a href="#top-projects" class="sidebar-item">
                    <i class="bi bi-star-fill"></i>
                    <span>热门项目</span>
                </a>
                <a href="#language-data" class="sidebar-item">
                    <i class="bi bi-table"></i>
                    <span>数据详情</span>
                </a>
            </div>
            <div class="sidebar-footer">
                <div>数据更新时间</div>
                <div class="update-time">2026-01</div>
            </div>
        </aside>

        <!-- 主内容区（恢复面包屑+返回按钮） -->
        <div class="content">
            <!-- 1. 编程语言信息模块 -->
            <div id="language-info">
                <!-- 1. 面包屑导航（恢复） -->
                <div class="breadcrumb">
                    <a href="../index.html">首页</a> >
                    <a href="list.html">编程语言列表</a> >
                    <span id="current-language">编程语言详情</span>
                </div>

                <!-- 2. 返回按钮（恢复） -->
                <button class="btn-secondary" style="margin-bottom: 20px;" onclick="window.location.href='list.html'">
                    <i class="bi bi-arrow-left"></i> 返回列表
                </button>

                <!-- 3. 顶部编程语言名称标题 -->
                <div class="detail-header">
                    <h1 class="language-title" id="language-name">编程语言</h1>
                    <span class="trend-tag" id="trend-tag">趋势</span>
                </div>

                <!-- 4. 基础信息方块 + 雷达图 -->
                <div class="basic-radar-wrapper">
                    <!-- 左侧：基础信息方块（2行5列） -->
                    <div class="basic-info-grid" id="basic-info-container">
                        <!-- 动态填充基础信息方块 -->
                        <div class="basic-info-card"><div class="label">加载中...</div></div>
                        <div class="basic-info-card"><div class="label">加载中...</div></div>
                        <div class="basic-info-card"><div class="label">加载中...</div></div>
                        <div class="basic-info-card"><div class="label">加载中...</div></div>
                        <div class="basic-info-card"><div class="label">加载中...</div></div>
                        <div class="basic-info-card"><div class="label">加载中...</div></div>
                        <div class="basic-info-card"><div class="label">加载中...</div></div>
                        <div class="basic-info-card"><div class="label">加载中...</div></div>
                        <div class="basic-info-card"><div class="label">加载中...</div></div>
                        <div class="basic-info-card"><div class="label">加载中...</div></div>
                    </div>

                    <!-- 右侧：雷达图区域 -->
                    <div class="radar-chart-wrapper">
                        <h4 style="margin: 0 0 16px 0;">核心指标雷达图</h4>
                        <div id="radar-chart" class="chart-container"></div>
                    </div>
                </div>
            </div>

            <!-- 2. 编程语言趋势分析模块 -->
            <div id="language-trends">
                <!-- 5. 下方分析层标签 + 可视化区域 -->
                <!-- 分析层标签 -->
                <div class="analysis-tabs">
                    <div class="analysis-tab active" data-tab="trends">核心指标趋势</div>
                    <div class="analysis-tab" data-tab="comparison">对比分析</div>
                    <div class="analysis-tab" data-tab="prediction">预测分析</div>
                </div>

                <!-- 分析层内容区 -->
                <!-- 5.1 核心指标趋势 -->
                <div class="analysis-content active" id="trends-tab">
                    <div class="chart-grid">
                        <div class="chart-item">
                            <h4>星标数趋势</h4>
                            <div id="stars-trend-chart" class="chart-container"></div>
                        </div>
                        <div class="chart-item">
                            <h4>OpenRank趋势</h4>
                            <div id="openrank-trend-chart" class="chart-container"></div>
                        </div>
                        <div class="chart-item">
                            <h4>活跃度趋势</h4>
                            <div id="activity-trend-chart" class="chart-container"></div>
                        </div>
                        <div class="chart-item">
                            <h4>流行度指数趋势</h4>
                            <div id="popularity-trend-chart" class="chart-container"></div>
                        </div>
                    </div>
                </div>

                <!-- 5.3 对比分析 -->
                <div class="analysis-content" id="comparison-tab">
                    <div class="chart-grid">
                        <div class="chart-item">
                            <h4>多语言对比</h4>
                            <div id="language-comparison-chart" class="chart-container"></div>
                        </div>
                        <div class="chart-item">
                            <h4>内部结构变化</h4>
                            <div id="internal-structure-chart" class="chart-container"></div>
                        </div>
                    </div>
                </div>

                <!-- 5.4 预测分析 -->
                <div class="analysis-content" id="prediction-tab">
                    <div class="chart-grid">
                        <div class="chart-item">
                            <h4>趋势预测</h4>
                            <div id="trend-prediction-chart" class="chart-container"></div>
                        </div>
                        <div class="chart-item">
                            <h4>预测准确性</h4>
                            <div id="prediction-accuracy-chart" class="chart-container"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. 热门项目模块 -->
            <div id="top-projects">
                <div style="margin-top: 32px;" class="table-row">
                    <div class="table-card">
                        <div class="table-header">
                            <h3><i class="bi bi-star-fill"></i> 使用该语言的热门项目 Top10</h3>
                            <p>按最新星标数排序，点击项目名称可跳转到对应项目主页</p>
                        </div>
                        <div class="table-container">
                            <table id="top-projects-table" class="table" style="min-width: 800px;">
                                <thead>
                                    <tr>
                                        <th style="width: 60px;">排名</th>
                                        <th>项目名称</th>
                                        <th style="width: 100px;">星标数</th>
                                        <th style="width: 120px;">OpenRank</th>
                                        <th style="width: 120px;">活跃度</th>
                                        <th style="width: 100px;">更新时间</th>
                                    </tr>
                                </thead>
                                <tbody id="top-projects-body">
                                    <tr>
                                        <td colspan="6" style="text-align: center; padding: 40px 0; color: #999;">
                                            正在加载热门项目数据...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 4. 编程语言数据详情模块 -->
            <div id="language-data">
                <!-- 6. 完整数据表格（底部） -->
                <div style="margin-top: 32px;" class="table-row">
                    <div class="table-card">
                        <div class="table-header">
                            <h3>编程语言完整数据</h3>
                        </div>
                        <div class="table-container">
                            <table id="ranking-table" class="table" style="min-width: 1000px;">
                                <thead>
                                    <tr>
                                        <th>日期</th>
                                        <th>项目数量</th>
                                        <th>平均星标</th>
                                        <th>平均OpenRank</th>
                                        <th>活跃度得分</th>
                                        <th>趋势方向</th>
                                        <th>流行度指数</th>
                                    </tr>
                                </thead>
                                <tbody id="language-table-body">
                                    <tr>
                                        <td colspan="7" style="text-align: center; padding: 40px 0; color: #999;">
                                            正在加载完整数据...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-left">© 2026 开源趋势与影响力分析平台</div>
            <div class="footer-right">
                <a href="#"><i class="bi bi-github"></i> 源码地址</a>
                <a href="#"><i class="bi bi-file-text"></i> 帮助文档</a>
                <a href="#"><i class="bi bi-envelope"></i> 联系我们</a>
            </div>
        </div>
    </footer>

    <!-- 引入外部JS -->
    <script src="./detail.js"></script>
</body>
</html>